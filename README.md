# ToDo List Application

ะะธะบัะพัะตัะฒะธัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ (ToDo List) ั Telegram ะฑะพัะพะผ, REST API ะฝะฐ Django ะธ ัะฒะตะดะพะผะปะตะฝะธัะผะธ ัะตัะตะท Celery.

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ

ะัะธะปะพะถะตะฝะธะต ัะพััะพะธั ะธะท ัะปะตะดัััะธั ะบะพะผะฟะพะฝะตะฝัะพะฒ:
- **Django Backend** - REST API ะดะปั ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ ะธ ะบะฐัะตะณะพัะธัะผะธ
- **Telegram Bot** - ะฑะพั ะฝะฐ Aiogram + Aiogram-Dialog ะดะปั ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- **Celery** - ะพัะปะพะถะตะฝะฝัะต ะทะฐะดะฐัะธ ะดะปั ะพัะฟัะฐะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน
- **PostgreSQL** - ะพัะฝะพะฒะฝะฐั ะฑะฐะทะฐ ะดะฐะฝะฝัั
- **Redis** - ะฑัะพะบะตั ัะพะพะฑัะตะฝะธะน ะดะปั Celery

## ๐ ะััะธัะตะบัััะฐ ัะตัะตะฝะธั

```
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โโโโโโถโ  Django Backend โ
โ   (Aiogram +    โ     โ   (REST API)    โ
โ Aiogram-Dialog) โโโโโโโ                 โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโฌโโโโโโโโโ
                                 โ
                        โโโโโโโโโโผโโโโโโโโโ
                        โ   PostgreSQL    โ
                        โ    Database     โ
                        โโโโโโโโโโโโโโโโโโโ
                                 โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโผโโโโโโโโโ
โ  Celery Beat    โโโโโโถโ     Redis       โ
โ  (Scheduler)    โ     โ    (Broker)     โ
โโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโฌโโโโโโโโโ
                                 โ
                        โโโโโโโโโโผโโโโโโโโโ
                        โ  Celery Worker  โ
                        โ (Notifications) โ
                        โโโโโโโโโโโโโโโโโโโ
```

### ะะปััะตะฒัะต ัะตัะตะฝะธั:

1. **ULID ะฒะผะตััะพ UUID/AUTO_INCREMENT** - ะธัะฟะพะปัะทัะตััั ULID (Universally Unique Lexicographically Sortable Identifier) ะดะปั ะฟะตัะฒะธัะฝัั ะบะปััะตะน. ULID ัะพะดะตัะถะธั ะฒัะตะผะตะฝะฝัั ะผะตัะบั ะธ ัะปััะฐะนะฝัั ัะฐััั, ััะพ ะพะฑะตัะฟะตัะธะฒะฐะตั ัะฝะธะบะฐะปัะฝะพััั ะฑะตะท ะธัะฟะพะปัะทะพะฒะฐะฝะธั UUID, random, ััะฐะฝะดะฐััะฝัั ััะฝะบัะธะน Postgres ะธ ัะตะปะพัะธัะปะตะฝะฝัั ะธะฝะบัะตะผะตะฝัะพะฒ.

2. **ะงะฐัะพะฒะฐั ะทะพะฝะฐ America/Adak** - Django ะฝะฐัััะพะตะฝ ะดะปั ัะฐะฑะพัั ะฒ ัะฐัะพะฒะพะน ะทะพะฝะต America/Adak (UTC-10:00).

3. **Aiogram-Dialog** - ะธัะฟะพะปัะทัะตััั ะดะปั ะฟะพัััะพะตะฝะธั ะดะธะฐะปะพะณะพะฒะพะณะพ ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ ะฒ Telegram ะฑะพัะต, ััะพ ะฟะพะทะฒะพะปัะตั ัะพะทะดะฐะฒะฐัั ัะปะพะถะฝัะต ะผะฝะพะณะพัะฐะณะพะฒัะต ััะตะฝะฐัะธะธ.

4. **Celery Beat** - ะฟะตัะธะพะดะธัะตัะบะฐั ะฟัะพะฒะตัะบะฐ ะทะฐะดะฐั ั ะฝะฐัััะฟะธะฒัะตะน ะดะฐัะพะน ะธัะฟะพะปะฝะตะฝะธั ะดะปั ะพัะฟัะฐะฒะบะธ ัะฒะตะดะพะผะปะตะฝะธะน ะฟะพะปัะทะพะฒะฐัะตะปัะผ.

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### ะัะตะดะฒะฐัะธัะตะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

- Docker ะธ Docker Compose
- Telegram Bot Token (ะฟะพะปััะธัั ั [@BotFather](https://t.me/BotFather))

### ะจะฐะณะธ ะดะปั ะทะฐะฟััะบะฐ

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:**
```bash
git clone <repository-url>
cd ToDo
```

2. **ะกะพะทะดะฐะนัะต ัะฐะนะป .env ะฝะฐ ะพัะฝะพะฒะต ะฟัะธะผะตัะฐ:**
```bash
cp .env.example .env
```

3. **ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป, ัะบะฐะทะฐะฒ ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐัะฐะผะตััั:**
```env
SECRET_KEY=your-secure-secret-key
DEBUG=1
POSTGRES_DB=todo_db
POSTGRES_USER=todo_user
POSTGRES_PASSWORD=your-secure-password
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
```

4. **ะะฐะฟัััะธัะต ะฒัะต ัะตัะฒะธัั:**
```bash
docker-compose up --build
```

5. **ะกะพะทะดะฐะนัะต ััะฟะตัะฟะพะปัะทะพะฒะฐัะตะปั (ะฒ ะพัะดะตะปัะฝะพะผ ัะตัะผะธะฝะฐะปะต):**
```bash
docker-compose exec backend python manage.py createsuperuser
```

6. **ะะพัััะฟ ะบ ัะตัะฒะธัะฐะผ:**
   - API: http://localhost:8000/api/
   - Admin ะฟะฐะฝะตะปั: http://localhost:8000/admin/
   - Telegram ะฑะพั: @your_bot_username

## ๐ API Endpoints

### ะะพะปัะทะพะฒะฐัะตะปะธ
- `GET /api/users/` - ัะฟะธัะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- `POST /api/users/register_telegram/` - ัะตะณะธัััะฐัะธั ัะตัะตะท Telegram
- `GET /api/users/by_telegram/?telegram_id=123` - ะฟะพะปััะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพ Telegram ID

### ะะฐัะตะณะพัะธะธ
- `GET /api/categories/` - ัะฟะธัะพะบ ะบะฐัะตะณะพัะธะน
- `POST /api/categories/` - ัะพะทะดะฐะฝะธะต ะบะฐัะตะณะพัะธะธ
- `GET /api/categories/{id}/` - ะฟะพะปััะตะฝะธะต ะบะฐัะตะณะพัะธะธ
- `PUT /api/categories/{id}/` - ะพะฑะฝะพะฒะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ
- `DELETE /api/categories/{id}/` - ัะดะฐะปะตะฝะธะต ะบะฐัะตะณะพัะธะธ

### ะะฐะดะฐัะธ
- `GET /api/tasks/` - ัะฟะธัะพะบ ะทะฐะดะฐั
- `POST /api/tasks/` - ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ
- `GET /api/tasks/{id}/` - ะฟะพะปััะตะฝะธะต ะทะฐะดะฐัะธ
- `PUT /api/tasks/{id}/` - ะพะฑะฝะพะฒะปะตะฝะธะต ะทะฐะดะฐัะธ
- `DELETE /api/tasks/{id}/` - ัะดะฐะปะตะฝะธะต ะทะฐะดะฐัะธ
- `GET /api/tasks/by_telegram/?telegram_id=123` - ะทะฐะดะฐัะธ ะฟะพะปัะทะพะฒะฐัะตะปั
- `POST /api/tasks/create_for_telegram/` - ัะพะทะดะฐะฝะธะต ะทะฐะดะฐัะธ ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั Telegram

## ๐ค ะะพะผะฐะฝะดั Telegram ะฑะพัะฐ

- `/start` - ะฝะฐัะฐัั ัะฐะฑะพัั ั ะฑะพัะพะผ (ัะตะณะธัััะฐัะธั)
- `/tasks` - ะฟัะพัะผะพัั ัะฟะธัะบะฐ ะทะฐะดะฐั
- `/add` - ะดะพะฑะฐะฒะธัั ะฝะพะฒัั ะทะฐะดะฐัั
- `/help` - ัะฟัะฐะฒะบะฐ ะฟะพ ะบะพะผะฐะฝะดะฐะผ

## ๐ง ะขะตัะฝะพะปะพะณะธะธ

- **Backend:** Django 5.1, Django REST Framework
- **Bot:** Aiogram 3.x, Aiogram-Dialog 2.x
- **Database:** PostgreSQL 16
- **Cache/Broker:** Redis 7
- **Task Queue:** Celery 5.4
- **Containerization:** Docker, Docker Compose

## โ๏ธ ะขััะดะฝะพััะธ ะธ ะธั ัะตัะตะฝะธั

### 1. ะัะฑะพั ัะพัะผะฐัะฐ ะฟะตัะฒะธัะฝะพะณะพ ะบะปััะฐ
**ะัะพะฑะปะตะผะฐ:** ะะพ ััะปะพะฒะธั ะทะฐะดะฐะฝะธั ะทะฐะฟัะตัะตะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั UUID, random, ััะฐะฝะดะฐััะฝัะต ััะฝะบัะธะธ Postgres ะธ ัะตะปะพัะธัะปะตะฝะฝัะต ะธะฝะบัะตะผะตะฝัั.

**ะะตัะตะฝะธะต:** ะัะฟะพะปัะทะพะฒะฐะฝ ULID (Universally Unique Lexicographically Sortable Identifier) ัะตัะตะท ะฑะธะฑะปะธะพัะตะบั `python-ulid`. ULID ะพะฑะตัะฟะตัะธะฒะฐะตั:
- ะฃะฝะธะบะฐะปัะฝะพััั ะธะดะตะฝัะธัะธะบะฐัะพัะพะฒ
- ะะตะบัะธะบะพะณัะฐัะธัะตัะบัั ัะพััะธััะตะผะพััั (ััะพ ะฟะพะปะตะทะฝะพ ะดะปั ะธะฝะดะตะบัะฐัะธะธ)
- ะัััะพะตะฝะฝัั ะฒัะตะผะตะฝะฝัั ะผะตัะบั

### 2. ะกะธะฝััะพะฝะธะทะฐัะธั ัะฐัะพะฒัั ะทะพะฝ
**ะัะพะฑะปะตะผะฐ:** Django ะดะพะปะถะตะฝ ัะฐะฑะพัะฐัั ะฒ ัะฐัะพะฒะพะน ะทะพะฝะต America/Adak, ะฟัะธ ััะพะผ Celery ะดะพะปะถะตะฝ ะบะพััะตะบัะฝะพ ะพะฑัะฐะฑะฐััะฒะฐัั ะทะฐะดะฐัะธ.

**ะะตัะตะฝะธะต:** ะะฐัััะพะตะฝั `TIME_ZONE = 'America/Adak'` ะธ `CELERY_TIMEZONE = TIME_ZONE` ะฒ settings.py, ัะฐะบะถะต `USE_TZ = True` ะดะปั ะบะพััะตะบัะฝะพะน ัะฐะฑะพัั ั ะฒัะตะผะตะฝะฝัะผะธ ะทะพะฝะฐะผะธ.

### 3. ะัะพะฑัะฐะถะตะฝะธะต ะดะฐัั ัะพะทะดะฐะฝะธั ะฒ ะฑะพัะต
**ะัะพะฑะปะตะผะฐ:** ะขัะตะฑะพะฒะฐะปะพัั ะฟะพะบะฐะทัะฒะฐัั ะดะฐัั ัะพะทะดะฐะฝะธั ะทะฐะดะฐัะธ ะฒ ัะฟะธัะบะต.

**ะะตัะตะฝะธะต:** ะ API ะดะพะฑะฐะฒะปะตะฝะพ ะฟะพะปะต `created_at`, ะบะพัะพัะพะต ัะพัะผะฐัะธััะตััั ะฒ ะฑะพัะต ะดะปั ะพัะพะฑัะฐะถะตะฝะธั ะฒ ัะดะพะฑะฝะพะผ ัะพัะผะฐัะต. ะ Aiogram-Dialog ะธัะฟะพะปัะทะพะฒะฐะฝ Select ั ะบะฐััะพะผะฝัะผ ัะพัะผะฐัะธัะพะฒะฐะฝะธะตะผ.

### 4. ะะธะฐะปะพะณะพะฒะพะต ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ะฒ ะฑะพัะต
**ะัะพะฑะปะตะผะฐ:** ะะตะพะฑัะพะดะธะผะพ ัะตะฐะปะธะทะพะฒะฐัั ะดะพะฑะฐะฒะปะตะฝะธะต ะทะฐะดะฐัะธ ัะตัะตะท ะดะธะฐะปะพะณ ั ะฝะตัะบะพะปัะบะธะผะธ ัะฐะณะฐะผะธ.

**ะะตัะตะฝะธะต:** ะัะฟะพะปัะทะพะฒะฐะฝ Aiogram-Dialog ั ะผะฐัะธะฝะพะน ัะพััะพัะฝะธะน (FSM). ะกะพะทะดะฐะฝ ะผะฝะพะณะพัะฐะณะพะฒัะน ะดะธะฐะปะพะณ: ะฒะฒะพะด ะฝะฐะทะฒะฐะฝะธั โ ะพะฟะธัะฐะฝะธะต โ ะดะฐัะฐ ะฒัะฟะพะปะฝะตะฝะธั โ ะฟะพะดัะฒะตัะถะดะตะฝะธะต.

### 5. ะฃะฒะตะดะพะผะปะตะฝะธั ะฟัะธ ะฝะฐัััะฟะปะตะฝะธะธ ะดะฐัั ะธัะฟะพะปะฝะตะฝะธั
**ะัะพะฑะปะตะผะฐ:** ะะตะพะฑัะพะดะธะผะพ ะพัะฟัะฐะฒะปััั ัะฒะตะดะพะผะปะตะฝะธั ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะพ ะทะฐะดะฐัะฐั ะฒ ะพะฟัะตะดะตะปัะฝะฝะพะต ะฒัะตะผั.

**ะะตัะตะฝะธะต:** Celery Beat ะฟะตัะธะพะดะธัะตัะบะธ (ะบะฐะถะดัั ะผะธะฝััั) ะฟัะพะฒะตััะตั ะทะฐะดะฐัะธ ั ะฝะฐัััะฟะธะฒัะตะน ะดะฐัะพะน ะฒัะฟะพะปะฝะตะฝะธั ะธ ะพัะฟัะฐะฒะปัะตั ัะฒะตะดะพะผะปะตะฝะธั ัะตัะตะท Telegram Bot API. ะะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะดัะฑะปะธัะพะฒะฐะฝะธั ัะฒะตะดะพะผะปะตะฝะธะน ะธัะฟะพะปัะทัะตััั ัะปะฐะณ `notification_sent`.

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
ToDo/
โโโ backend/
โ   โโโ todo_project/
โ   โ   โโโ __init__.py
โ   โ   โโโ settings.py
โ   โ   โโโ urls.py
โ   โ   โโโ wsgi.py
โ   โ   โโโ asgi.py
โ   โ   โโโ celery.py
โ   โโโ tasks/
โ   โ   โโโ __init__.py
โ   โ   โโโ admin.py
โ   โ   โโโ apps.py
โ   โ   โโโ fields.py
โ   โ   โโโ models.py
โ   โ   โโโ serializers.py
โ   โ   โโโ tasks.py
โ   โ   โโโ urls.py
โ   โ   โโโ views.py
โ   โโโ Dockerfile
โ   โโโ manage.py
โ   โโโ requirements.txt
โโโ bot/
โ   โโโ main.py
โ   โโโ handlers.py
โ   โโโ dialogs.py
โ   โโโ states.py
โ   โโโ api_client.py
โ   โโโ Dockerfile
โ   โโโ requirements.txt
โโโ docker-compose.yml
โโโ .env.example
โโโ .gitignore
โโโ README.md
```

## ๐ ะะธัะตะฝะทะธั

MIT License
